@model CalendarViewModel

<div class="main-container-wrapper">
    <main>
        <div class="calendar-container">
            <div class="calendar-container__header">
                <button class="calendar-container__btn calendar-container__btn--left" title="Previous">
                    <img src="icon ion-ios-arrow-back"></i>
                </button>
                <h2 class="calendar-container__title">@Model.CurrentMonth.ToString("MMMM yyyy")</h2>
                <button class="calendar-container__btn calendar-container__btn--right" title="Next">
                    <i class="icon ion-ios-arrow-forward"></i>
                </button>
            </div>
            <div class="calendar-container__body">
                <div class="calendar-table">
                    <div class="calendar-table__header">
                        <div class="calendar-table__row">
                            <div class="calendar-table__col">S</div>
                            <div class="calendar-table__col">M</div>
                            <div class="calendar-table__col">T</div>
                            <div class="calendar-table__col">W</div>
                            <div class="calendar-table__col">T</div>
                            <div class="calendar-table__col">F</div>
                            <div class="calendar-table__col">S</div>
                        </div>
                    </div>
                    <div class="calendar-table__body">
                        @for (int week = 0; week < 6; week++)
                        {
                            <div class="calendar-table__row">
                                @for (int day = 0; day < 7; day++)
                                {
                                    var dayIndex = week * 7 + day;
                                    var calendarDay = Model.Days[dayIndex];
                                    var cssClasses = "calendar-table__col";
                                    
                                    if (calendarDay.IsToday)
                                        cssClasses += " calendar-table__today";
                                    if (!calendarDay.IsCurrentMonth)
                                        cssClasses += " calendar-table__inactive";
                                    if (calendarDay.HasEvent)
                                        cssClasses += " calendar-table__event";
                                    
                                    <div class="@cssClasses">
                                        <div class="calendar-table__item">
                                            <span>@calendarDay.Date.Day</span>
                                        </div>
                                    </div>
                                }
                            </div>
                        }
                    </div>
                </div>
            </div>
        </div>
    </main>
</div>